// Code generated by gsus-template.
package svc_{{ .PackageName }}

import (
    "context"

    "{{ .ServicePkgPath }}"
)

var _ {{ .ServicePkg }}.{{ .ModelName }}Service = &{{ .StructName }}{}

// {{ .ModelDesc }}服务
// @autowire({{ .ServicePkg }}.{{ .ModelName }}Service,set=service)
type {{ .StructName }} struct {
    SQL isql.GormSQL
    Dao{{ .ModelName }} dao.{{ .ModelName }}
}

// 编辑{{ .ModelDesc }}
func ({{ .CallerIdent }}  {{ .StructName }}) Update{{ .ModelName }}(ctx context.Context, param {{ .ServicePkg }}.Form{{ .ModelName }}) (err error) {
    db:= {{ .CallerIdent }}.SQL.GetDB(ctx)
    _,err = {{ .CallerIdent }}.Dao{{ .ModelName }}.Update{{ .ModelName }}(ctx, db, &param)
    return
}

// 获取{{ .ModelDesc }}列表
func ({{ .CallerIdent }} {{ .StructName }}) Get{{ .ModelName }}List(ctx context.Context, param {{ .ServicePkg }}.Query{{ .ModelName }}) (list {{ .ServicePkg }}.{{ .ModelName }}List, err error) {
    db:= {{ .CallerIdent }}.SQL.GetDB(ctx)
    list, err = {{ .CallerIdent }}.Dao{{ .ModelName }}.Get{{ .ModelName }}List(ctx, db, &param)
    return
}

// 根据ID获取{{ .ModelDesc }}
func ({{ .CallerIdent }} {{ .StructName }}) Get{{ .ModelName }}ByID(ctx context.Context, id int) (ret {{ .ServicePkg }}.{{ .ModelName }}, err error) {
    db:= {{ .CallerIdent }}.SQL.GetDB(ctx)
    ret, err = {{ .CallerIdent }}.Dao{{ .ModelName }}.Get{{ .ModelName }}ByID(ctx, db, id)
    return
}

// 删除{{ .ModelDesc }}
func ({{ .CallerIdent }} {{ .StructName }}) Delete{{ .ModelName }}(ctx context.Context, param {{ .ServicePkg }}.Query{{ .ModelName }}) (err error) {
    db:= {{ .CallerIdent }}.SQL.GetDB(ctx)
    err = {{ .CallerIdent }}.Dao{{ .ModelName }}.Delete{{ .ModelName }}(ctx, db, param.ID)
    return
}
